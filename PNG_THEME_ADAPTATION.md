# Адаптация PNG файлов для светлой темы

## Описание изменений

Была выполнена адаптация PNG файлов для поддержки светлой темы в приложении. Все изменения направлены на обеспечение корректного отображения иконок и элементов интерфейса в обеих темах.

## Выполненные шаги

### 1. Создание структуры папок
- Создана папка `resources/black-png/` для PNG файлов темной темы
- Создана папка `resources/white-png/` для PNG файлов светлой темы
- Все исходные PNG файлы скопированы в обе папки

### 2. Автоматическая конвертация цветов
Создан и выполнен Python скрипт для автоматической конвертации PNG файлов:
- **Инверсия цветов**: Все PNG файлы (кроме голубого `sub-menu-arrow-hover.png`) были автоматически инвертированы для светлой темы
- **Сохранение прозрачности**: Альфа-канал (прозрачность) сохранен без изменений
- **Особый случай**: Файл `sub-menu-arrow-hover.png` (голубой) оставлен без изменений, как было запрошено

### 3. Обновление ресурсов
- Обновлен файл `resources.qrc` с добавлением новых префиксов:
  - `black-png` - для темной темы
  - `white-png` - для светлой темы
- Скомпилированы ресурсы командой `pyside6-rcc resources.qrc -o resources_rc.py`

### 4. Модификация системы стилей
Обновлен файл `package/controllers/style.py`:
- Добавлена функция `get_png_prefix()` для определения правильного префикса PNG файлов в зависимости от темы
- Добавлена функция `get_theme_style()` для получения стиля с корректными путями к PNG файлам
- Обновлены все методы применения стилей для использования новых функций

## Структура файлов

```
resources/
├── png/                    # Оригинальные PNG файлы (совместимость)
├── black-png/             # PNG файлы для темной темы
│   ├── branch-closed.png
│   ├── branch-open.png
│   ├── checkbox-check.png
│   ├── combobox-down.png
│   ├── scrollbar-*.png
│   ├── sort-*.png
│   ├── spinner-*.png
│   └── sub-menu-arrow*.png
└── white-png/             # PNG файлы для светлой темы (инвертированные)
    ├── branch-closed.png
    ├── branch-open.png
    ├── checkbox-check.png
    ├── combobox-down.png
    ├── scrollbar-*.png
    ├── sort-*.png
    ├── spinner-*.png
    └── sub-menu-arrow*.png
```

## Используемые PNG файлы

Следующие PNG файлы используются в стилях приложения:
- `branch-closed.png` - иконка закрытой ветки дерева
- `branch-open.png` - иконка открытой ветки дерева
- `checkbox-check.png` - галочка для чекбокса
- `checkbox-check-disabled.png` - галочка для отключенного чекбокса
- `combobox-down.png` - стрелка выпадающего списка
- `scrollbar-*.png` - элементы полос прокрутки (все направления и состояния)
- `sort-asc.png` - иконка сортировки по возрастанию
- `sort-desc.png` - иконка сортировки по убыванию
- `spinner-up.png` - стрелка вверх для спиннера
- `spinner-down.png` - стрелка вниз для спиннера
- `sub-menu-arrow.png` - стрелка подменю

## Принцип работы

1. **Определение темы**: Система определяет текущую тему приложения
2. **Выбор префикса**: В зависимости от темы выбирается соответствующий префикс (`black-png` или `white-png`)
3. **Подстановка путей**: Все пути к PNG файлам в стилях автоматически заменяются на правильные
4. **Применение стилей**: Обновленные стили применяются ко всем виджетам приложения

## Результат

Теперь приложение корректно отображает PNG иконки в обеих темах:
- **Темная тема**: Использует оригинальные PNG файлы из папки `black-png`
- **Светлая тема**: Использует инвертированные PNG файлы из папки `white-png`

Все изменения обратно совместимы и не влияют на существующую функциональность приложения.
